// TEST CATEGORIES EXIST
require "connexion_bdd.php"; // Inclusion de notre bibliothèque de fonctions	
$db = connexionBase(); // Appel de la fonction de connexion	
$requete = "SELECT cat_id  FROM categories";
$result = $db->query($requete);
if (!$result) {
    $tableauErreurs = $db->errorInfo();
    echo $tableauErreur[2];
    die("Erreur dans la requête");
}
if ($result->rowCount() == 0) {
    // Pas d'enregistremen	
    die("La table est vide");
}
$acategorie = $result->fetchAll(PDO::FETCH_OBJ); //creation tableau avec la colonne cat_id
$i=false;
foreach ($acategorie as $categorie){              //balayage du tableau
$cat=$categorie->cat_id;
if ($cat==$_POST['pro_cat_id']){$i=true;} //test devient true si il y a une occurence
}
if ($i == false) {
    echo "la categorie n'existe pas !!";
}
$db=NULL;